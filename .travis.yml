language: python
python: 2.7
before_install:
  - sudo apt-get update
  - sudo apt-get install -y libav-tools libi2c-dev python-setuptools python-smbus
  - git clone git://git.drogon.net/wiringPi && cd ./wiringPi && ./build && cd ..
  - wget abyz.co.uk/rpi/pigpio/pigpio.zip && unzip pigpio.zip && cd ./PIGPIO && make -j4 && sudo make install && cd ..
  - pip install -U pip webtest
install:
  - pip install --upgrade -r requirements.txt
virtualenv:
    system_site_packages: true
script: python -m pytest ./mycodo/tests/software_tests/test_mycodo_flask/test_endpoints.py